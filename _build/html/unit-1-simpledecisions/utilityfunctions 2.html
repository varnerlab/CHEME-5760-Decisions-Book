

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Utility Functions and Choices &#8212; CHEME 5760</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-VQRVBL1C02"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-VQRVBL1C02');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'unit-1-simpledecisions/utilityfunctions';</script>
    <link rel="canonical" href="https://varnerlab.github.io/CHEME-5760-Decisions-Book/landing.html/unit-1-simpledecisions/utilityfunctions.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Marginal Utility, Indifference and Trades" href="indifference-curves.html" />
    <link rel="prev" title="Making simple decisions" href="simpledecisions-landing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../landing.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/cornell_seal_simple_black-164.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/cornell_seal_simple_black-164.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../landing.html">
                    Quantitative Decisions in Life, Love, and Finance
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="simpledecisions-landing.html">Unit 1. Simple Decisions</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Utility Functions and Choices</a></li>

<li class="toctree-l2"><a class="reference internal" href="indifference-curves.html">Marginal Utility, Indifference and Trades</a></li>
<li class="toctree-l2"><a class="reference internal" href="utlitymaximization.html">Constrained Utility Maximization</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../unit-2-uncertainty/uncertainty-landing.html">Unit 2. Uncertain Decisions</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../unit-2-uncertainty/expected-utility.html">Rational Uncertain Decisions</a></li>

<li class="toctree-l2"><a class="reference internal" href="../unit-2-uncertainty/risk.html">Risk and Risk Aversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unit-2-uncertainty/contigencies.html">Contingencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unit-2-uncertainty/contingencies-and-utility-max.html">Utility maximization, contingencies and information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unit-2-uncertainty/games.html">Games and Multiagent Reasoning</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../unit-3-planning/planning-landing.html">Unit 3. Sequential Decisions</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../unit-3-planning/markov.html">Understanding Markov Chains</a></li>

<li class="toctree-l2 has-children"><a class="reference internal" href="../unit-3-planning/mdp.html">Markov Decision Processes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../unit-3-planning/sequential-decisions.html">Making Sequential Decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unit-3-planning/policy-evaluation.html">Value and Policy Evaluation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../unit-3-planning/mcts.html">Monte Carlo Tree Search</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../unit-4-learning/learning-landing.html">Unit 4. Machine Learning and Decisions</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../unit-4-learning/bandits.html">Multiarm Bandit Problems</a></li>

<li class="toctree-l2"><a class="reference internal" href="../unit-4-learning/bandit-problems-ts.html">Thompson Sampling</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../unit-4-learning/rl.html">Reinforcement Learning</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../unit-4-learning/model-based-rl.html">Model Based Reinforcement Learning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unit-4-learning/model-free-rl.html">Model Free Reinforcement Learning</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../unit-4-learning/imitation.html">Imitation Learning</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../unit-4-learning/behavior.html">Behavioral cloning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../unit-4-learning/bayesian-rules.html">Bayesian Descision Rules</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendix/appendix-landing.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/random.html">Random variables and probability</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../References.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/varnerlab/CHEME-5760-Decisions-Book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/varnerlab/CHEME-5760-Decisions-Book/issues/new?title=Issue%20on%20page%20%2Funit-1-simpledecisions/utilityfunctions.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/unit-1-simpledecisions/utilityfunctions.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Utility Functions and Choices</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Utility Functions and Choices</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rational-choice-theory">Rational choice theory</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utility-functions">Utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-utility-functions">Linear utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#logarithmic-utility-functions">Logarithmic utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cobb-douglas-utility-functions">Cobb-Douglas utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#leontief-utility-functions">Leontief utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Implementation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#marginal-utility">Marginal utility</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-is-marginal-utility-important">Why is marginal utility important?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-marginal-utility">Computing marginal utility</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#symbolic-marginal-utility">Symbolic marginal utility</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numerical-marginal-utility">Numerical marginal utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discrete-choice-models">Discrete Choice Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logit-choice-models">Logit choice models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="utility-functions-and-choices">
<span id="content-references-utility-functions-and-choices"></span><h1>Utility Functions and Choices<a class="headerlink" href="#utility-functions-and-choices" title="Permalink to this heading">#</a></h1>
<aside class="topic">
<p class="topic-title">Outline</p>
<p>This week, we’ll introduce utility functions, and explore some mathematical and philosophical properties of utility functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#content-references-rational-choice-theory"><span class="std std-ref">Rational choice theory</span></a> is a framework that seeks to explain human behavior by assuming that individuals make rational choices based on their preferences and goals. This theory suggests that people are motivated by self-interest and will choose actions that maximize their benefits, i.e., their utility while minimizing their costs.</p></li>
<li><p><a class="reference internal" href="#content-references-marginal-utility"><span class="std std-ref">Marginal utility</span></a> describes the added satisfaction or benefits that a consumer gains from consuming one more unit of a good or service. This theory operates on the premise that the happiness or benefit from each extra unit decreases as a consumer increases the number of units consumed. Marginal utility is crucial in shaping consumer behavior, prices, and market equilibrium.</p></li>
<li><p><a class="reference internal" href="#content-references-discrete-choice-experiments"><span class="std std-ref">Discrete choice theory</span></a> is a framework for modeling choices made by individuals from a set of discrete alternatives. It is used to model the behavior of agents who have to choose among a finite set of alternatives. The theory is used in many fields, including economics, marketing, transportation planning, and environmental science.</p></li>
</ul>
</aside>
<hr class="docutils" />
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Utility functions are mathematical expressions that indicate an individual’s preferences for different choices, outcomes, or states of the word. They give a numerical value, known as <code class="docutils literal notranslate"><span class="pre">utility</span></code>, for each available option, outcome, or state of the world. The <code class="docutils literal notranslate"><span class="pre">utility</span></code> can be considered a proxy for happiness or satisfaction. Thus, a larger utility is always better than a smaller utility.</p>
<p>Utility functions are used in economics to model preferences and choices and predict consumer behavior. They are also used in decision theory, game theory, and other fields that study human behavior. Thus, utility functions are vital to the theory of choice, as they can be used by individuals to assign numerical values to different available options (<a class="reference internal" href="#defn-individual-utility">Definition 1</a>):</p>
<div class="proof definition admonition" id="defn-individual-utility">
<p class="admonition-title"><span class="caption-number">Definition 1 </span> (Ordinal utility function)</p>
<section class="definition-content" id="proof-content">
<p>An individual decision-maker (agent) is given a set of <span class="math notranslate nohighlight">\(n\)</span> objects or features,  <span class="math notranslate nohighlight">\(X=\left\{x_{1} \dotsc ,x_{n}\right\}\)</span>.  A <code class="docutils literal notranslate"><span class="pre">utility</span> <span class="pre">function</span></code> ranks the agent’s preference for combinations of these objects or features:</p>
<div class="math notranslate nohighlight" id="equation-eqn-utility-function-generic">
<span class="eqno">(1)<a class="headerlink" href="#equation-eqn-utility-function-generic" title="Permalink to this equation">#</a></span>\[U(x_{1},x_{2},\dots,x_{n}) = u\]</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a real number called the <code class="docutils literal notranslate"><span class="pre">utility</span></code> which has units of <code class="docutils literal notranslate"><span class="pre">utils</span></code>.</p>
<ul class="simple">
<li><p>The utility function <span class="math notranslate nohighlight">\(U:X\rightarrow\mathbb{R}\)</span> is unique only up to an order-preserving transformation.</p></li>
<li><p>Utility functions are <code class="docutils literal notranslate"><span class="pre">ordinal</span></code>, i.e., they rank-order bundles but do not measure differences between bundles</p></li>
</ul>
</section>
</div></section>
<section id="rational-choice-theory">
<span id="content-references-rational-choice-theory"></span><h2>Rational choice theory<a class="headerlink" href="#rational-choice-theory" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Rational_choice_theory">Rational choice theory</a> is founded on the idea that individuals make decisions that maximize their utility. The theory assumes that individuals always make prudent and logical decisions that provide them with the highest personal utility. In other words, when faced with competing alternatives, a decision-making agent will <em>always</em> choose the option that maximizes their utility.</p>
<p>The utility function <span class="math notranslate nohighlight">\(U:X\rightarrow\mathbb{R}\)</span> can be used to rank order the preference for different choices. For example, suppose we have two bundles of goods, services, or states option(s) <span class="math notranslate nohighlight">\(A\in{X}\)</span> and <span class="math notranslate nohighlight">\(B\in{X}\)</span> that we must decide between:</p>
<ul class="simple">
<li><p>If the decision maker <em>strictly prefers</em>  option <span class="math notranslate nohighlight">\(A\)</span> over <span class="math notranslate nohighlight">\(B\)</span>, denoted as <span class="math notranslate nohighlight">\(A\succ{B}\)</span>, the utility <span class="math notranslate nohighlight">\(U(A)\)</span> is always greater than <span class="math notranslate nohighlight">\(U(B)\)</span>, i.e., <span class="math notranslate nohighlight">\(U(A)&gt;U(B)\)</span>.</p></li>
<li><p>If the decision maker is <em>indifferent</em> between option <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, denoted as <span class="math notranslate nohighlight">\(A\sim{B}\)</span>, then the utility <span class="math notranslate nohighlight">\(U(A)=U(B)\)</span>.</p></li>
<li><p>If the decision maker <em>weakly prefers or is indifferent</em> between option <span class="math notranslate nohighlight">\(A\)</span> over <span class="math notranslate nohighlight">\(B\)</span>, denoted as <span class="math notranslate nohighlight">\(A\succsim{B}\)</span>, then the utility <span class="math notranslate nohighlight">\(U(A)\geq{U(B)}\)</span>.</p></li>
</ul>
<div class="admonition-key-idea-of-rational-choice-theory admonition">
<p class="admonition-title">Key Idea of Rational Choice Theory</p>
<p>When faced with competing alternatives, i.e., different options <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, a rational decision maker will <em>always</em> choose the option that maximizes their utility.</p>
</div>
<section id="utility-functions">
<span id="content-references-rational-choice-theory-utility-functions"></span><h3>Utility functions<a class="headerlink" href="#utility-functions" title="Permalink to this heading">#</a></h3>
<p>To better understand utility functions, let’s explore them further. Utility functions are utilized to express preferences for various outcomes by assigning a numerical value to each option, which is referred to as <code class="docutils literal notranslate"><span class="pre">utility</span></code> and measured in <code class="docutils literal notranslate"><span class="pre">utils</span></code>. Here are some properties that a utility function should possess:</p>
<ul class="simple">
<li><p><strong>Completeness</strong>: A utility function should be able to rank all possible outcomes or alternatives. In other words, for any two outcomes, the utility function should tell us which one is preferred or whether they are equally preferred.</p></li>
<li><p><strong>Transitivity</strong>: If outcome A is preferred to outcome B, and outcome B is preferred to outcome C, then outcome A must be preferred to outcome C.</p></li>
<li><p><strong>Monotonicity</strong>: If more of a good is always preferred to less, then the utility function should increase in that good. Conversely, if less of a bad is always preferred to more, then the utility function should decrease in that bad.</p></li>
<li><p><strong>Continuity</strong>: Small changes in the outcome or alternatives should result in small changes in the utility function.</p></li>
<li><p><strong>Concavity</strong>: The utility function should be concave if the person exhibits diminishing marginal utility. This means that as a person consumes more of a good, the additional satisfaction gained from each unit consumed decreases.</p></li>
</ul>
<p>These properties help ensure that a utility function accurately represents a person’s preferences and can be used to make rational choices between alternatives.</p>
<p>It’s important to note that utility functions, or their parameters, are subjective and may differ from one person to another. There are various types of utility functions, and we’ll examine some examples and their characteristics:</p>
<ul class="simple">
<li><p><strong>Linear utility function</strong> assumes that an individual’s utility is directly proportional to the quantity of goods or services consumed, and is represented by the equation <span class="math notranslate nohighlight">\(U(x) = \sum{\alpha_{i}x_{i}}\)</span>, where <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span> is a positive constant, and <span class="math notranslate nohighlight">\(x_{i}\)</span> denotes the quantity of good or service <span class="math notranslate nohighlight">\(i\)</span> consumed.</p></li>
<li><p><strong>Logarithmic utility function</strong> assumes that an individual’s utility is a function of the logarithm of the quantity consumed, and is represented by the equation <span class="math notranslate nohighlight">\(U(x) = \ln(\alpha^{T}\cdot{x}+\beta)\)</span>, where <span class="math notranslate nohighlight">\(\beta&gt;0\)</span> is a positive constant, and <span class="math notranslate nohighlight">\(\alpha^{T}\cdot{x}\)</span> is the scalar product of the vector of parameters <span class="math notranslate nohighlight">\(\alpha\)</span> and goods or services <span class="math notranslate nohighlight">\(x\)</span>, where <span class="math notranslate nohighlight">\(x_{i}&gt;0\)</span> and <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span>.</p></li>
<li><p><strong>Exponential utility function</strong> assumes that an individual’s utility is proportional to the exponential of the quantity consumed, and is represented by the equation <span class="math notranslate nohighlight">\(U(x) = e^{\alpha^{T}\cdot{x}}\)</span>, where <span class="math notranslate nohighlight">\(\alpha^{T}\cdot{x}\)</span> is the scalar product of the vector of parameters <span class="math notranslate nohighlight">\(\alpha\)</span> and the vector of goods or services <span class="math notranslate nohighlight">\(x\)</span>, where <span class="math notranslate nohighlight">\(x_{i}&gt;0\)</span> and <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span>.</p></li>
<li><p><strong>Cobb-Douglas utility function</strong> is commonly used in economics and assumes that an individual’s utility is a function of the quantity of two or more goods consumed, and is represented by the equation <span class="math notranslate nohighlight">\(U(x_{1},\dots,x_{n}) = \prod{x_{i}^{\alpha_{i}}}\)</span>, where <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span> are positive constants, and <span class="math notranslate nohighlight">\(\sum{\alpha_{i}}=1\)</span>.</p></li>
<li><p><strong>Leontief utility function</strong> assumes that an individual’s utility is based on the minimum amount of each attribute or variable required to achieve a certain level of satisfaction. The function is represented by the equation <span class="math notranslate nohighlight">\(U(x_{1},\dots, x_{n}) = \min\left\{x_{1}/\alpha_{1},\dots,x_{n}/\alpha_{n}\right\}\)</span>, where <span class="math notranslate nohighlight">\(\alpha_{i}\)</span> are the minimum amounts required for each variable, and <span class="math notranslate nohighlight">\(x_{i}\)</span> are the quantities consumed for variable <span class="math notranslate nohighlight">\(i\)</span>, or the system state in configuration <span class="math notranslate nohighlight">\(i\)</span>, etc.</p></li>
</ul>
<section id="linear-utility-functions">
<span id="content-references-rational-choice-theory-utility-functions-linear"></span><h4>Linear utility functions<a class="headerlink" href="#linear-utility-functions" title="Permalink to this heading">#</a></h4>
<p>A  <code class="docutils literal notranslate"><span class="pre">linear</span></code> utility function assumes an individual’s is directly proportional to the decision or feature variables, e.g., the quantity of a good or service consumed, the state of the world, etc. A <code class="docutils literal notranslate"><span class="pre">linear</span></code> utility function is given by:</p>
<div class="math notranslate nohighlight" id="equation-eqn-linear-utility-function">
<span class="eqno">(2)<a class="headerlink" href="#equation-eqn-linear-utility-function" title="Permalink to this equation">#</a></span>\[U(x) = \alpha^{T}\cdot{x}\]</div>
<p>The term <span class="math notranslate nohighlight">\(\alpha^{T}\cdot{x}\)</span> denotes the inner (or scalar) product between the <span class="math notranslate nohighlight">\(n\times{1}\)</span> parameter vector <span class="math notranslate nohighlight">\(\alpha\)</span> and the <span class="math notranslate nohighlight">\(n\times{1}\)</span> vector of feature variables <span class="math notranslate nohighlight">\(x\)</span>, where <span class="math notranslate nohighlight">\(x_{i}\geq{0}\)</span> and <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span>. Let’s consider a one-dimensional linear utility function for four decision-making agents with <span class="math notranslate nohighlight">\(\alpha_{1}&lt;\alpha_{2}&lt;\alpha_{3}&lt;\alpha_{4}\)</span> where the features are the quantity of a good or service (<a class="reference internal" href="#fig-linear-utility-1d"><span class="std std-numref">Fig. 1</span></a>).</p>
<figure class="align-default" id="fig-linear-utility-1d">
<a class="reference internal image-reference" href="../_images/Fig-Linear-Utility-Schematic.png"><img alt="../_images/Fig-Linear-Utility-Schematic.png" src="../_images/Fig-Linear-Utility-Schematic.png" style="height: 380px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Linear utility function in one dimension as a function of the quantity of good or service consumed and the values of the utility function parameter <span class="math notranslate nohighlight">\(\alpha\)</span>.</span><a class="headerlink" href="#fig-linear-utility-1d" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Each agent has a different utility value at the consumption of 75 units of <span class="math notranslate nohighlight">\(x\)</span>, indicated as points B, C, D, and E. The agent with the highest value of <span class="math notranslate nohighlight">\(\alpha\)</span>, Agent 4, has the highest utility value at point E, while the one with the lowest value of <span class="math notranslate nohighlight">\(\alpha\)</span>, Agent 1, has the lowest utility value at point B.</p></li>
<li><p>Despite the difference in absolute utility values among the agents, their preferences remain the same. For instance, Agent 1 strictly prefers <span class="math notranslate nohighlight">\(B\succ{A}\)</span>
, which means that they would choose to consume 75 units instead of 50 units of <span class="math notranslate nohighlight">\(x\)</span>. Similarly, Agent 4 strictly prefers <span class="math notranslate nohighlight">\(E\succ{F}\)</span>.</p></li>
<li><p>A linear utility function has constant <a class="reference external" href="https://en.wikipedia.org/wiki/Marginal_utility">constant marginal utility</a>, meaning the satisfaction gained from each additional unit of <span class="math notranslate nohighlight">\(x\)</span> remains constant.</p></li>
</ul>
<section id="implementation">
<h5>Implementation<a class="headerlink" href="#implementation" title="Permalink to this heading">#</a></h5>
<p>We used the <a class="reference external" href="https://github.com/varnerlab/VLDecisionsPackage.jl">VLDecisionsPackage.jl</a> to build an instance of the <code class="docutils literal notranslate"><span class="pre">VLLinearUtilityFunction</span></code> utility function model. We then plotted the utility function using the <code class="docutils literal notranslate"><span class="pre">plot</span></code> command from the <a class="reference external" href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">Listing 1 </span><span class="caption-text">Linear utility function model in Julia</span><a class="headerlink" href="#id5" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load packages -</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="n">VLDecisionsPackage</span>
<span class="linenos"> 3</span><span class="k">using</span><span class="w"> </span><span class="n">Plots</span>
<span class="linenos"> 4</span><span class="k">using</span><span class="w"> </span><span class="n">Colors</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c"># setup colors -</span>
<span class="linenos"> 7</span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="kt">RGB</span><span class="p">}()</span>
<span class="linenos"> 8</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#D81B60&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#1E88E5&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#FFC107&quot;</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#004D40&quot;</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c"># setup ranges and parameters -</span>
<span class="linenos">14</span><span class="n">goods_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="n">stop</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">collect</span><span class="p">;</span>
<span class="linenos">15</span><span class="n">parameter_value_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">];</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="c"># goods array -</span>
<span class="linenos">18</span><span class="n">goods_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="n">stop</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">collect</span><span class="p">;</span>
<span class="linenos">19</span><span class="n">parameter_value_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">];</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">22</span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="n">parameter_value_array</span>
<span class="linenos">23</span><span class="w">    </span>
<span class="linenos">24</span><span class="w">    </span><span class="c"># utility function -</span>
<span class="linenos">25</span><span class="w">    </span><span class="n">my_utility_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">VLLinearUtilityFunction</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">26</span><span class="w">        </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">p</span><span class="p">],</span>
<span class="linenos">27</span><span class="w">    </span><span class="p">));</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">    </span><span class="c"># evaluate the utility function -</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">utility_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluate</span><span class="p">(</span><span class="n">my_utility_model</span><span class="p">,</span><span class="w"> </span><span class="n">goods_array</span><span class="p">);</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="w">    </span><span class="c"># plot -</span>
<span class="linenos">33</span><span class="w">    </span><span class="n">plot!</span><span class="p">(</span><span class="n">goods_array</span><span class="p">,</span><span class="w"> </span><span class="n">utility_array</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;α = </span><span class="si">$</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span>
<span class="linenos">34</span><span class="w">        </span><span class="n">bg</span><span class="o">=</span><span class="ss">:snow2</span><span class="p">,</span><span class="w"> </span><span class="n">background_color_outside</span><span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">framestyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:box</span><span class="p">,</span><span class="w"> </span><span class="n">fg_legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:transparent</span><span class="p">);</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="w">    </span><span class="k">global</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">37</span><span class="k">end</span>
<span class="linenos">38</span><span class="n">current</span><span class="p">()</span>
<span class="linenos">39</span><span class="n">xlabel!</span><span class="p">(</span><span class="s">&quot;Good or Service 1 (units)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
<span class="linenos">40</span><span class="n">ylabel!</span><span class="p">(</span><span class="s">&quot;Utility (utils)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="logarithmic-utility-functions">
<span id="content-references-rational-choice-theory-utility-functions-log"></span><h4>Logarithmic utility functions<a class="headerlink" href="#logarithmic-utility-functions" title="Permalink to this heading">#</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">logarithmic</span></code> utility function assumes that an individual’s utility is a function of the logarithm of the weighted sum of the feature variables, e.g., the quantity of a good or service consumed, the state of the world, etc., plus a constant. A <code class="docutils literal notranslate"><span class="pre">logarithmic</span></code> utility function has the form:</p>
<div class="math notranslate nohighlight" id="equation-eq-log-utility">
<span class="eqno">(3)<a class="headerlink" href="#equation-eq-log-utility" title="Permalink to this equation">#</a></span>\[U(x) = \ln(\alpha^{T}\cdot{x}+\beta)\]</div>
<p>where <span class="math notranslate nohighlight">\(\beta&gt;0\)</span> is a positive constant. The term <span class="math notranslate nohighlight">\(\alpha^{T}\cdot{x}\)</span> denotes the inner (or scalar) product between the <span class="math notranslate nohighlight">\(n\times{1}\)</span> parameter vector <span class="math notranslate nohighlight">\(\alpha\)</span> and the <span class="math notranslate nohighlight">\(n\times{1}\)</span> vector of featrure variables <span class="math notranslate nohighlight">\(x\)</span>, where <span class="math notranslate nohighlight">\(x_{i}\geq{0}\)</span> and <span class="math notranslate nohighlight">\(\alpha_{i}&gt;0\)</span>.  The <code class="docutils literal notranslate"><span class="pre">logarithmic</span></code> utility function is the log transformation of the <code class="docutils literal notranslate"><span class="pre">linear</span></code> utility function where <span class="math notranslate nohighlight">\(\beta=0\)</span>. Let’s consider four agents with incresing values of <span class="math notranslate nohighlight">\(\alpha\)</span> but with the same value of <span class="math notranslate nohighlight">\(\beta\)</span> (<a class="reference internal" href="#fig-log-utility-1d"><span class="std std-numref">Fig. 2</span></a>).</p>
<figure class="align-default" id="fig-log-utility-1d">
<a class="reference internal image-reference" href="../_images/Fig-Log-Utility-Schematic.png"><img alt="../_images/Fig-Log-Utility-Schematic.png" src="../_images/Fig-Log-Utility-Schematic.png" style="height: 380px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Log utility function in one dimension as a function of the quantity of good or service consumed and the values of the utility function parameter <span class="math notranslate nohighlight">\(\alpha\)</span> with <span class="math notranslate nohighlight">\(\beta = 1.0\)</span></span><a class="headerlink" href="#fig-log-utility-1d" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Properties of the Logarithmic utility function</strong></p>
<ul class="simple">
<li><p>Despite the difference in absolute utility values among the agents, their preferences remain the same. For instance, Agent 2 strictly prefers <span class="math notranslate nohighlight">\(B\succ{A}\)</span>.</p></li>
<li><p>Unlike the linear utility function, the logarithmic utility function exhibits <a class="reference external" href="https://www.investopedia.com/terms/l/lawofdiminishingutility.asp">diminishing marginal utility</a>, i.e., as a person consumes more of a good, the additional satisfaction gained from each unit consumed decreases.</p></li>
</ul>
<section id="id1">
<h5>Implementation<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h5>
<p>We used the <a class="reference external" href="https://github.com/varnerlab/VLDecisionsPackage.jl">VLDecisionsPackage.jl</a> to build an instance of a <code class="docutils literal notranslate"><span class="pre">VLLogUtilityFunction</span></code> model, and computed the utility values using the <code class="docutils literal notranslate"><span class="pre">evaluate(...)</span></code> function.  We then plotted the utility function using the <code class="docutils literal notranslate"><span class="pre">plot(...)</span></code> command from the <a class="reference external" href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">Listing 2 </span><span class="caption-text">Log utility function model in Julia</span><a class="headerlink" href="#id6" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load packages -</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="n">VLDecisionsPackage</span>
<span class="linenos"> 3</span><span class="k">using</span><span class="w"> </span><span class="n">Plots</span>
<span class="linenos"> 4</span><span class="k">using</span><span class="w"> </span><span class="n">Colors</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c"># setup colors -</span>
<span class="linenos"> 7</span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="kt">RGB</span><span class="p">}()</span>
<span class="linenos"> 8</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#D81B60&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#1E88E5&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#FFC107&quot;</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#004D40&quot;</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c"># setup ranges and parameters -</span>
<span class="linenos">14</span><span class="n">goods_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="n">stop</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">collect</span><span class="p">;</span>
<span class="linenos">15</span><span class="n">parameter_value_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">];</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="c"># main loop -</span>
<span class="linenos">18</span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">19</span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="n">parameter_value_array</span>
<span class="linenos">20</span><span class="w">    </span>
<span class="linenos">21</span><span class="w">    </span><span class="c"># build a utility function model -</span>
<span class="linenos">22</span><span class="w">    </span><span class="n">my_utility_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">VLLogUtilityFunction</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">23</span><span class="w">        </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">p</span><span class="p">],</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span>
<span class="linenos">24</span><span class="w">    </span><span class="p">));</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">    </span><span class="c"># evaluate the utility function model for the goods array -</span>
<span class="linenos">27</span><span class="w">    </span><span class="n">utility_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluate</span><span class="p">(</span><span class="n">my_utility_model</span><span class="p">,</span><span class="w"> </span><span class="n">goods_array</span><span class="p">);</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">    </span><span class="c"># plot -</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">plot!</span><span class="p">(</span><span class="n">goods_array</span><span class="p">,</span><span class="w"> </span><span class="n">utility_array</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;α = </span><span class="si">$</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span>
<span class="linenos">31</span><span class="w">        </span><span class="n">bg</span><span class="o">=</span><span class="ss">:snow2</span><span class="p">,</span><span class="w"> </span><span class="n">background_color_outside</span><span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">framestyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:box</span><span class="p">,</span><span class="w"> </span>
<span class="linenos">32</span><span class="w">        </span><span class="n">fg_legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:transparent</span><span class="p">);</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">    </span><span class="k">global</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">35</span><span class="k">end</span>
<span class="linenos">36</span><span class="n">current</span><span class="p">()</span>
<span class="linenos">37</span><span class="n">xlabel!</span><span class="p">(</span><span class="s">&quot;Good or Service 1 (units)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
<span class="linenos">38</span><span class="n">ylabel!</span><span class="p">(</span><span class="s">&quot;Utility (utils)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="cobb-douglas-utility-functions">
<span id="content-references-rational-choice-theory-utility-functions-cobb-douglas"></span><h4>Cobb-Douglas utility functions<a class="headerlink" href="#cobb-douglas-utility-functions" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">Cobb-Douglas</span></code> utility function is the product of the <span class="math notranslate nohighlight">\(n\)</span> feature variables, thus, it models situations where the features (consumption of goods or services, traits like make, model and color of a car, etc) occur simultaneously. Each feature variable (or good, or service) is raised to a non-negative exponent:</p>
<div class="math notranslate nohighlight" id="equation-eq-cobb-douglas-utility">
<span class="eqno">(4)<a class="headerlink" href="#equation-eq-cobb-douglas-utility" title="Permalink to this equation">#</a></span>\[U(x_{1},\dots,x_{n}) = \prod_{i\in{1\dots{n}}}{x_{i}^{\alpha_{i}}}\]</div>
<p>In our realization of the <code class="docutils literal notranslate"><span class="pre">Cobb-Douglas</span></code> utility, the exponents sum to unity <span class="math notranslate nohighlight">\(\sum_{i\in{1\dots{n}}}\alpha_{i} = 1\)</span>, <span class="math notranslate nohighlight">\(x_{i}\geq{0}\)</span>, and <span class="math notranslate nohighlight">\(\alpha_{i}\geq{0}\)</span>.</p>
<figure class="align-default" id="fig-cobbdouglas-utility-1d">
<a class="reference internal image-reference" href="../_images/Fig-CobbDouglas-Utility-Schematic.png"><img alt="../_images/Fig-CobbDouglas-Utility-Schematic.png" src="../_images/Fig-CobbDouglas-Utility-Schematic.png" style="height: 380px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Cobb-Douglas utility function in one dimension as a function of the quantity of good or service <span class="math notranslate nohighlight">\(x_{1}\)</span> consumed and the values of the utility function parameters <span class="math notranslate nohighlight">\(\alpha\)</span>. We assumed <span class="math notranslate nohighlight">\(x_{2} = 1.0\)</span> for all values of <span class="math notranslate nohighlight">\(x_{1}\)</span>, and <span class="math notranslate nohighlight">\(\sum\alpha = 1\)</span>.</span><a class="headerlink" href="#fig-cobbdouglas-utility-1d" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Properties of the Cobb-Douglas utility function</strong></p>
<ul class="simple">
<li><p>Different agents have varying utility values when consuming 75 units of <span class="math notranslate nohighlight">\(x\)</span>, labeled as points B, C, D, and E. Agent 4 has the highest value of <span class="math notranslate nohighlight">\(\alpha\)</span> and obtains the highest utility value at point E, while Agent 1 has the lowest value of <span class="math notranslate nohighlight">\(\alpha\)</span> and the lowest utility value at point B.</p></li>
<li><p>Preferences differ among the agents. Agent 1 appears to weakly prefer <span class="math notranslate nohighlight">\(B\succsim{A}\)</span>, which indicates that they are nearly indifferent to consuming 75 units of <span class="math notranslate nohighlight">\(x\)</span> versus 50 units of <span class="math notranslate nohighlight">\(x\)</span>. However, Agent 4 strictly prefers <span class="math notranslate nohighlight">\(E\succ{F}\)</span>.</p></li>
<li><p>Like the log utility, the Cobb-Douglas utility function reflects <a class="reference external" href="https://www.investopedia.com/terms/l/lawofdiminishingutility.asp">diminishing marginal utility</a>, meaning that as a person consumes more of a good, the additional satisfaction gained from each unit consumed decreases.</p></li>
</ul>
<section id="id2">
<h5>Implementation<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h5>
<p>We used the <code class="docutils literal notranslate"><span class="pre">build(...)</span></code> method of the <a class="reference external" href="https://github.com/varnerlab/VLDecisionsPackage.jl">VLDecisionsPackage.jl</a> package to build an instance of a <code class="docutils literal notranslate"><span class="pre">VLCobbDouglasUtilityFunction</span></code> model,  and then calculated the utility values using the <code class="docutils literal notranslate"><span class="pre">evaluate(...)</span></code> function.  Finally, we ploted the utility function values using the <code class="docutils literal notranslate"><span class="pre">plot(...)</span></code> command from the <a class="reference external" href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-number">Listing 3 </span><span class="caption-text">Cobb-Douglas utility function</span><a class="headerlink" href="#id7" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load packages -</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="n">VLDecisionsPackage</span>
<span class="linenos"> 3</span><span class="k">using</span><span class="w"> </span><span class="n">Plots</span>
<span class="linenos"> 4</span><span class="k">using</span><span class="w"> </span><span class="n">Colors</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c"># setup colors -</span>
<span class="linenos"> 7</span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="kt">RGB</span><span class="p">}()</span>
<span class="linenos"> 8</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#D81B60&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#1E88E5&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#FFC107&quot;</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parse</span><span class="p">(</span><span class="n">Colorant</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;#004D40&quot;</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c"># goods array -</span>
<span class="linenos">14</span><span class="n">number_of_steps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="linenos">15</span><span class="n">goods_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="n">number_of_steps</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">16</span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">number_of_steps</span>
<span class="linenos">17</span><span class="w">    </span><span class="n">goods_array</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="kt">Float64</span><span class="p">;</span>
<span class="linenos">18</span><span class="w">    </span><span class="n">goods_array</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="linenos">19</span><span class="k">end</span>
<span class="linenos">20</span><span class="n">parameter_value_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">];</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="c"># main loop -</span>
<span class="linenos">23</span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">24</span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="n">parameter_value_array</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">    </span><span class="c"># utility function -</span>
<span class="linenos">27</span><span class="w">    </span><span class="n">my_utility_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">VLCobbDouglasUtilityFunction</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">28</span><span class="w">        </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="o">-</span><span class="n">p</span><span class="p">],</span>
<span class="linenos">29</span><span class="w">    </span><span class="p">));</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">    </span><span class="c"># evaluate the utility function -</span>
<span class="linenos">32</span><span class="w">    </span><span class="n">utility_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluate</span><span class="p">(</span><span class="n">my_utility_model</span><span class="p">,</span><span class="w"> </span><span class="n">goods_array</span><span class="p">);</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">    </span><span class="c"># plot -</span>
<span class="linenos">35</span><span class="w">    </span><span class="n">plot!</span><span class="p">(</span><span class="n">goods_array</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">utility_array</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;α = </span><span class="si">$</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span>
<span class="linenos">36</span><span class="w">        </span><span class="n">bg</span><span class="o">=</span><span class="ss">:snow2</span><span class="p">,</span><span class="w"> </span><span class="n">background_color_outside</span><span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">framestyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:box</span><span class="p">,</span><span class="w"> </span>
<span class="linenos">37</span><span class="w">        </span><span class="n">fg_legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:transparent</span><span class="p">);</span>
<span class="linenos">38</span>
<span class="linenos">39</span><span class="w">    </span><span class="k">global</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">40</span><span class="k">end</span>
<span class="linenos">41</span><span class="n">current</span><span class="p">()</span>
<span class="linenos">42</span><span class="n">xlabel!</span><span class="p">(</span><span class="s">&quot;Good or Service 1 (units)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
<span class="linenos">43</span><span class="n">ylabel!</span><span class="p">(</span><span class="s">&quot;Utility (utils)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="leontief-utility-functions">
<span id="content-references-rational-choice-theory-utility-functions-leontief"></span><h4>Leontief utility functions<a class="headerlink" href="#leontief-utility-functions" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">Leontief</span></code> utility function, first developed by <a class="reference external" href="https://en.wikipedia.org/wiki/Wassily_Leontief">Wassily Leontief</a> who was later awared a <a class="reference external" href="https://www.nobelprize.org/prizes/economic-sciences/1973/leontief/facts/">Nobel Prize in Economics for his work</a>, computes the utility for <code class="docutils literal notranslate"><span class="pre">complementary</span></code> states (or configurations) of the world, where each feature variable is scaled by a non-negative constant(s) <span class="math notranslate nohighlight">\(\alpha\)</span>. The <code class="docutils literal notranslate"><span class="pre">Leontief</span></code> utility function is given by:</p>
<div class="math notranslate nohighlight" id="equation-eq-leontief-utility">
<span class="eqno">(5)<a class="headerlink" href="#equation-eq-leontief-utility" title="Permalink to this equation">#</a></span>\[U(x_{1},\dots, x_{n}) = \min\left\{\frac{x_{1}}{\alpha_{1}},\dots,\frac{x_{n}}{\alpha_{n}}\right\}\]</div>
<p>where <span class="math notranslate nohighlight">\(\alpha_{i}&gt;{0}\)</span> and <span class="math notranslate nohighlight">\(x_{i}\geq{0}\)</span> for all <span class="math notranslate nohighlight">\(i\in{1\dots{n}}\)</span>. For example, suppose we wanted to make a cheese sandwich. For this, we need two slices of bread and one slice of cheese where <span class="math notranslate nohighlight">\(X = \left\{\text{bread},\text{cheese}\right\}\)</span>, i.e., the number of slices of bread and pieces of cheese we have. The Leontief utility function <span class="math notranslate nohighlight">\(U(\dots)_{\text{sandwich}}\)</span> for the sandwich is then given by:</p>
<div class="math notranslate nohighlight" id="equation-eq-leontief-utility-sandwhich">
<span class="eqno">(6)<a class="headerlink" href="#equation-eq-leontief-utility-sandwhich" title="Permalink to this equation">#</a></span>\[U(x_{1},x_{2})_{\text{sandwich}} = \min\left\{\frac{x_{1}}{2},\frac{x_{2}}{1}\right\}\]</div>
<p>where <span class="math notranslate nohighlight">\(x_{1}\)</span> and <span class="math notranslate nohighlight">\(x_{2}\)</span> denote the number of slices of bread and cheese we have, respectively. Let’s simulate the utility function for the sandwich using the <a class="reference external" href="https://github.com/varnerlab/VLDecisionsPackage.jl">VLDecisionsPackage.jl</a> package.</p>
<section id="id3">
<h5>Implementation<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h5>
<p>We used the <code class="docutils literal notranslate"><span class="pre">build(...)</span></code> method of the <a class="reference external" href="https://github.com/varnerlab/VLDecisionsPackage.jl">VLDecisionsPackage.jl</a> package to build an instance of the <code class="docutils literal notranslate"><span class="pre">VLLeontiefUtilityFunction</span></code> utility model, and then calculated the utility values using the <code class="docutils literal notranslate"><span class="pre">evaluate(...)</span></code> function:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-number">Listing 4 </span><span class="caption-text">Leontief utility function</span><a class="headerlink" href="#id8" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load external packages -</span>
<span class="linenos"> 2</span><span class="n">include</span><span class="p">(</span><span class="s">&quot;Include.jl&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c"># initialize -</span>
<span class="linenos"> 5</span><span class="n">max_number_of_bread_slices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="n">max_number_of_cheese_slices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="n">bread_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">max_number_of_bread_slices</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">collect</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="n">cheese_array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">max_number_of_cheese_slices</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">collect</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataFrame</span><span class="p">();</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c"># # build a utility function model -</span>
<span class="linenos">12</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">VLLeontiefUtilityFunction</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">13</span><span class="w">    </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">],</span><span class="w"> </span><span class="c"># parameters: bread, cheese</span>
<span class="linenos">14</span><span class="p">));</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c"># main -</span>
<span class="linenos">17</span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="n">eachindex</span><span class="p">(</span><span class="n">bread_array</span><span class="p">)</span>
<span class="linenos">18</span><span class="w">    </span>
<span class="linenos">19</span><span class="w">    </span><span class="c"># get the number of bread slices -</span>
<span class="linenos">20</span><span class="w">    </span><span class="n">number_of_bread_slices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bread_array</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos">21</span><span class="w">    </span>
<span class="linenos">22</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">∈</span><span class="w"> </span><span class="n">eachindex</span><span class="p">(</span><span class="n">cheese_array</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="w">        </span><span class="c"># get the number of cheese slices -</span>
<span class="linenos">25</span><span class="w">        </span><span class="n">number_of_cheese_slices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cheese_array</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos">26</span><span class="w">        </span>
<span class="linenos">27</span><span class="w">        </span><span class="c"># compute -</span>
<span class="linenos">28</span><span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluate</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">number_of_bread_slices</span><span class="p">,</span><span class="w"> </span><span class="n">number_of_cheese_slices</span><span class="p">]);</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="w">        </span><span class="c"># package -</span>
<span class="linenos">31</span><span class="w">        </span><span class="n">results_tuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">32</span><span class="w">            </span><span class="n">bread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">number_of_bread_slices</span><span class="p">,</span>
<span class="linenos">33</span><span class="w">            </span><span class="n">cheese</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">number_of_cheese_slices</span><span class="p">,</span>
<span class="linenos">34</span><span class="w">            </span><span class="n">U</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span>
<span class="linenos">35</span><span class="w">        </span><span class="p">);</span>
<span class="linenos">36</span><span class="w">        </span><span class="n">push!</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">results_tuple</span><span class="p">);</span>
<span class="linenos">37</span><span class="w">    </span><span class="k">end</span>
<span class="linenos">38</span><span class="k">end</span>
</pre></div>
</div>
</div>
<p>Using the code block above, we computed the utility function for the sandwich problem for different combinations of the number of slices of bread and cheese (Fig. <a class="reference internal" href="#fig-leontief-utility-sandwich"><span class="std std-numref">Fig. 4</span></a>).</p>
<figure class="align-default" id="fig-leontief-utility-sandwich">
<a class="reference internal image-reference" href="../_images/Fig-LUF-CheeseSandwich.svg"><img alt="../_images/Fig-LUF-CheeseSandwich.svg" height="380px" src="../_images/Fig-LUF-CheeseSandwich.svg" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Leontief utility function for the cheese sandwich problem. The utility function is given by <span class="math notranslate nohighlight">\(U(x_{1},x_{2})_{\text{sandwich}} = \min\left\{\frac{x_{1}}{2},\frac{x_{2}}{1}\right\}\)</span>. The utility function is plotted as a function of the number of slices of bread and cheese.</span><a class="headerlink" href="#fig-leontief-utility-sandwich" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<!-- The results of the simulation are shown in the Table:

| bread | cheese | U   |
|-------|--------|-----|
|     0 |      0 | 0.0 |
|     0 |      1 | 0.0 |
|     0 |      2 | 0.0 |
|     0 |      3 | 0.0 |
|     0 |      4 | 0.0 |
|     1 |      0 | 0.0 |
|     1 |      1 | 0.5 |
|     1 |      2 | 0.5 |
|     1 |      3 | 0.5 |
|     1 |      4 | 0.5 |
|     2 |      0 | 0.0 |
|     2 |      1 | 1.0 |
|     2 |      2 | 1.0 |
|     2 |      3 | 1.0 |
|     2 |      4 | 1.0 |
|     3 |      0 | 0.0 |
|     3 |      1 | 1.0 |
|     3 |      2 | 1.5 |
|     3 |      3 | 1.5 |
|     3 |      4 | 1.5 |
|     4 |      0 | 0.0 |
|     4 |      1 | 1.0 |
|     4 |      2 | 2.0 |
|     4 |      3 | 2.0 |
|     4 |      4 | 2.0 | -->
</section>
</section>
</section>
</section>
<section id="marginal-utility">
<span id="content-references-marginal-utility"></span><h2>Marginal utility<a class="headerlink" href="#marginal-utility" title="Permalink to this heading">#</a></h2>
<p>The marginal utility of a good or service is the added satisfaction or benefit that a consumer gains from consuming one more unit of a good or service (<a class="reference internal" href="#defn-marginal-utility">Definition 2</a>):</p>
<div class="proof definition admonition" id="defn-marginal-utility">
<p class="admonition-title"><span class="caption-number">Definition 2 </span> (Marginal Utility)</p>
<section class="definition-content" id="proof-content">
<p>Let <span class="math notranslate nohighlight">\(x_{i}~(\text{for}~i\in{1\dots{n}})\)</span> be a good or service (or a state of the world) which is a member of the set <span class="math notranslate nohighlight">\(X\)</span>. Further, let <span class="math notranslate nohighlight">\(U:X\rightarrow\mathbb{R}\)</span> be a utility function over the set <span class="math notranslate nohighlight">\(X\)</span>, i.e., the function <span class="math notranslate nohighlight">\(U\)</span> maps a choice of goods, services or states of the world into a utility value. The <a class="reference external" href="https://en.wikipedia.org/wiki/Marginal_utility">marginal utility</a> of <span class="math notranslate nohighlight">\(x\in{X}\)</span> is the partial derivative of <span class="math notranslate nohighlight">\(U\)</span> with respect to <span class="math notranslate nohighlight">\(x\)</span>:</p>
<div class="math notranslate nohighlight">
\[\bar{U}_{x_{i}} \equiv \left(\frac{\partial{U}}{\partial{x_{i}}}\right)\]</div>
<p>The marginal utility <span class="math notranslate nohighlight">\(\bar{U}_{x_{i}}\)</span> measures the change in the utility <span class="math notranslate nohighlight">\(U\)</span> resulting from small changes in <span class="math notranslate nohighlight">\(x_{i}\)</span>.</p>
</section>
</div><section id="why-is-marginal-utility-important">
<h3>Why is marginal utility important?<a class="headerlink" href="#why-is-marginal-utility-important" title="Permalink to this heading">#</a></h3>
<p>While the marginal utility may seem like a mathematical curiosity, it has important applications. First, the marginal utility quantifies how changing the quantity of a good or service consumed (or moving from one state of the world to another) affects the utility. In particular, the change in the utility <span class="math notranslate nohighlight">\(U(\dots)\)</span> of the decision maker can be computed using the <a class="reference external" href="https://en.wikipedia.org/wiki/Differential_of_a_function#Differentials_in_several_variables">total differential</a> around some starting point <span class="math notranslate nohighlight">\(x^{\star}\in{X}\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-eqn-total-differential-ic">
<span class="eqno">(7)<a class="headerlink" href="#equation-eqn-total-differential-ic" title="Permalink to this equation">#</a></span>\[dU = \sum_{i\in{1\dots{n}}}\bar{U}_{x_{i}}\cdot{dx_{i}}\]</div>
<p>where <span class="math notranslate nohighlight">\(dU\approx\left(U - U_{\star}\right)\)</span> denotes the change in utility, <span class="math notranslate nohighlight">\(\bar{U}_{x_{i}}\)</span> denotes the marginal utility of <span class="math notranslate nohighlight">\(x_{i}\)</span> evaluated at the starting point, and <span class="math notranslate nohighlight">\(dx_{i}\approx(x_{i}-x_{i,\star})\)</span> is the change in <span class="math notranslate nohighlight">\(x_{i}\)</span>.</p>
<p>Equation. <a class="reference internal" href="#equation-eqn-total-differential-ic">(7)</a> is a powerful equation that we will use to derive the <a class="reference external" href="https://en.wikipedia.org/wiki/Marginal_rate_of_substitution">marginal rate of substitution</a>, which is how much of one thing we would willingly give up for another. Further, in the context of a trade between agents, Eqn. <a class="reference internal" href="#equation-eqn-total-differential-ic">(7)</a> can be used to evaluate the goodness of the trade, i.e., the change in the utility of the decision-maker experiences resulting from a trade:</p>
<ul class="simple">
<li><p>If a trade is a <code class="docutils literal notranslate"><span class="pre">good</span> <span class="pre">trade</span></code> the change in utility should always be non-negative, i.e., <span class="math notranslate nohighlight">\(dU\geq{0}\)</span>.</p></li>
<li><p>If a trade is a <code class="docutils literal notranslate"><span class="pre">bad</span> <span class="pre">trade</span></code> the change in utility is always negative, i.e., <span class="math notranslate nohighlight">\(dU&lt;{0}\)</span>.</p></li>
</ul>
<p>Beyond these specific applications, the concept of marginal utility holds great importance for several other reasons:</p>
<ol class="arabic simple">
<li><p><strong>Consumer Choice and Preferences:</strong> Marginal utility helps explain how individuals make choices when allocating their limited resources (such as money and time) among different goods and services. Consumers typically aim to maximize their total utility, and they do this by allocating their resources in a way that equalizes the marginal utility per unit of money spent across different goods. In other words, consumers tend to purchase more of a good when its marginal utility is relatively high compared to its price.</p></li>
<li><p><strong>Law of Diminishing Marginal Utility:</strong> This law states that as a person consumes more units of a good or service, the additional satisfaction (marginal utility) derived from each successive unit tends to decrease. This principle highlights why people are willing to pay more for the first few units of a good and why demand for a product decreases as consumption increases. It also explains why variety is preferred over excessive consumption of a single item.</p></li>
<li><p><strong>Pricing and Demand:</strong> Businesses use the concept of marginal utility to determine the optimal pricing strategy for their products. They understand that consumers are more likely to purchase products with higher marginal utility at a given price point. By understanding how price changes affect consumers’ perceived marginal utility, businesses can adjust their pricing strategies to maximize profits and meet demand.</p></li>
<li><p><strong>Resource Allocation:</strong> Beyond individual consumption choices, the marginal utility helps societies allocate resources efficiently. It assists policymakers and governments in making decisions related to resource allocation, taxation, and public goods provision. By understanding how marginal utility varies across different individuals and goods, policymakers can work toward improving overall social welfare.</p></li>
<li><p><strong>Economic Efficiency:</strong> The concept of marginal utility is closely related to economic efficiency. Efficient resource allocation occurs when the last unit of a good is distributed so that the marginal utility is equal across different goods. This ensures that resources are allocated to their most valued uses, leading to a more productive and prosperous economy.</p></li>
<li><p><strong>Consumer Surplus:</strong> Marginal utility is used to calculate consumer surplus, which represents the difference between the total amount consumers are willing to pay for a good and the amount they pay. Consumer surplus is a measure of the net benefit consumers receive from their purchases, providing insights into the overall economic welfare of consumers.</p></li>
</ol>
<p>In conclusion, the concept of marginal utility helps economists, businesses, and policymakers understand how individuals make choices and how markets function, ultimately contributing to a deeper understanding of financial systems.</p>
</section>
<section id="computing-marginal-utility">
<h3>Computing marginal utility<a class="headerlink" href="#computing-marginal-utility" title="Permalink to this heading">#</a></h3>
<p>The marginal utility of a good or service can be computed analytically or numerically. For example, the marginal utility of a good or service for an agent that is governed by a linear utility function is constant and independent of the amount of the good or service consumed:</p>
<div class="math notranslate nohighlight">
\[\bar{U}_{x_{i}} = \alpha_{i}\]</div>
<p>If both a product, such as potato chips, and a consumer, like yourself, follow a linear utility function, then the additional satisfaction gained from consuming each unit is constant and not influenced by the quantity already consumed. Thus, the first chip is just as enjoyable as the last.</p>
<section id="symbolic-marginal-utility">
<h4>Symbolic marginal utility<a class="headerlink" href="#symbolic-marginal-utility" title="Permalink to this heading">#</a></h4>
<p>Computing the marginal utility of a linear utility function is straightforward. However, most utility functions are not linear (and can be quite complex). Thus, let’s use symbolic manipulation tools to compute the partial derivatives. For example, suppose an agent is using a concave utility function, e.g., the <a class="reference internal" href="#content-references-rational-choice-theory-utility-functions-cobb-douglas"><span class="std std-ref">Cobb-Douglas utility function</span></a>, then the marginal utility is given by:</p>
<div class="math notranslate nohighlight" id="equation-eqn-mu-u-function">
<span class="eqno">(8)<a class="headerlink" href="#equation-eqn-mu-u-function" title="Permalink to this equation">#</a></span>\[\bar{U}_{x_{i}} = \left(\alpha_{i}\cdot{x}^{\alpha_{i}-1}\right)\cdot\left(\prod_{j=1,i}^{n}x_{j}^{\alpha_{j}}\right)\]</div>
<p>where the <span class="math notranslate nohighlight">\(j=1,i\)</span> notation denotes the <em>exclusion</em> of index <span class="math notranslate nohighlight">\(i\)</span>. As <span class="math notranslate nohighlight">\(x_{i}\rightarrow\infty\)</span>, the marginal utility <span class="math notranslate nohighlight">\(\bar{U}_{x_{i}}\rightarrow{0}\)</span> if <span class="math notranslate nohighlight">\(\alpha_{i}&lt;1\)</span>. Thus, the satisfaction gained from comsuming an additional unit of a good or service (or moving between states in a world) decreases as the amount consumed increases.</p>
<p>To compute analytical expressions for the marginal utility, instead of remembering the <a class="reference external" href="https://en.wikipedia.org/wiki/Differentiation_rules">differentiation rules from calculus</a>, we can use one of many <a class="reference external" href="https://en.wikipedia.org/wiki/Computer_algebra_system">Computer Algebra Systems (CAS)</a>, e.g., the <a class="reference external" href="https://github.com/JuliaSymbolics/Symbolics.jl">Symbolics.jl</a> package in <a class="reference external" href="https://julialang.org">Julia</a> or the <a class="reference external" href="https://www.sympy.org/en/index.html">SymPy</a> library in <a class="reference external" href="https://www.python.org">Python</a>.</p>
<p>Sample code to compute the marginal utility for the two-dimensional <a class="reference external" href="https://en.wikipedia.org/wiki/Cobb%E2%80%93Douglas_production_function">Cobb-Douglas utility function</a> using the <a class="reference external" href="https://github.com/JuliaSymbolics/Symbolics.jl">Symbolics.jl</a> package:</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-number">Listing 5 </span><span class="caption-text">Marginal utility of the Cobb-Douglas utility function</span><a class="headerlink" href="#id9" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load the Symbolics.jl package (assumed to be installed)</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="n">Symbolics</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c"># declare variables (symbols in the eqn)</span>
<span class="linenos"> 5</span><span class="nd">@variables</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">α</span><span class="p">,</span><span class="n">β</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c"># Build differential operators for x</span>
<span class="linenos"> 8</span><span class="n">Dₓ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Differential</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c"># define the utility function</span>
<span class="linenos">11</span><span class="n">U</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">α</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="n">β</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c"># compute the derivative -</span>
<span class="linenos">14</span><span class="n">∂Uₓ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Dₓ</span><span class="p">(</span><span class="n">U</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">expand_derivatives</span><span class="p">;</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c"># print -</span>
<span class="linenos">17</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The value of ∂U/∂x = &quot;</span><span class="p">,</span><span class="n">∂Uₓ</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="numerical-marginal-utility">
<h4>Numerical marginal utility<a class="headerlink" href="#numerical-marginal-utility" title="Permalink to this heading">#</a></h4>
<p>However, sometimes it may not be convenient to analytically compute the derivative, e.g., the utility function is complicated or we need a numerical value, e.g., when evaluating the goodness of a trade. You can always approximate the value of the marginal utility using a <a class="reference external" href="https://en.wikipedia.org/wiki/Finite_difference">finite difference approximation</a>, or <a class="reference external" href="https://en.wikipedia.org/wiki/Automatic_differentiation">automatic differentiation</a> approach.</p>
<p>Sample code for <a class="reference external" href="https://en.wikipedia.org/wiki/Automatic_differentiation">automatic differentiation</a> of the Cobb-Douglas utility function using the <a class="reference external" href="https://juliadiff.org/ForwardDiff.jl/stable/">ForwardDiff.jl</a> package:</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-number">Listing 6 </span><span class="caption-text">Numerical marginal utility of the Cobb-Douglas utility function</span><a class="headerlink" href="#id10" title="Permalink to this code">#</a></div>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c"># load the ForwardDiff package</span>
<span class="linenos"> 2</span><span class="k">using</span><span class="w"> </span><span class="n">ForwardDiff</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c"># Cobb-Douglas utility function</span>
<span class="linenos"> 5</span><span class="k">function</span><span class="w"> </span><span class="n">U</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="c"># initialize</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="n">α₁</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.5</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">α₂</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">α₁</span>
<span class="linenos">10</span><span class="w">    </span>
<span class="linenos">11</span><span class="w">    </span><span class="c"># return</span>
<span class="linenos">12</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">^</span><span class="n">α₁</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">^</span><span class="n">α₂</span><span class="p">)</span>
<span class="linenos">13</span><span class="k">end</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c"># Estimate the MU -</span>
<span class="linenos">16</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">20.0</span><span class="p">,</span><span class="mf">7.20</span><span class="p">];</span><span class="w"> </span><span class="c"># point A </span>
<span class="linenos">17</span><span class="n">U</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ForwardDiff</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
</div>
<!-- ### Marginal utility and the law of diminishing marginal utility
The law of diminishing marginal utility states that as a person consumes more units of a good or service, the additional satisfaction derived from each successive unit tends to decrease. However, the law of diminishing marginal utility depends upon the utility function. For example, linear utility functions do not exhibit diminishing marginal utility. -->
<!-- ## Decisions
Ultimately, the goal of rational choice theory is to make decisions that maximize the utility of the decision maker.
Let the decision maker have actions $\mathcal{A}$, observations $\mathcal{O}$ and states $\mathcal{S}$. Then, the decision maker's goal is to maximize their utility subject to various constraints, i.e., rules of the world such a budget constraints, time constraints, physical constraints such as walls, etc. -->
</section>
</section>
</section>
<section id="discrete-choice-models">
<span id="content-references-discrete-choice-experiments"></span><h2>Discrete Choice Models<a class="headerlink" href="#discrete-choice-models" title="Permalink to this heading">#</a></h2>
<p>Discrete choice models can be used to select between competing alternatives, such as goods, services, or states of the world, based on modeled and unmodeled factors. Developed by McFadden and coworkers in the 1970s and 1980s <span id="id4">[<a class="reference internal" href="../References.html#id4" title="George Baltas and Peter Doyle. Random utility models in marketing research: a survey. Journal of Business Research, 51(2):115-125, 2001. URL: https://www.sciencedirect.com/science/article/pii/S0148296399000582, doi:https://doi.org/10.1016/S0148-2963(99)00058-2.">Baltas and Doyle, 2001</a>, <a class="reference internal" href="../References.html#id2" title="D McFadden. Conditional Logit Analysis of Qualitative Choice Behavior, pages 105-142. Frontiers in Econometrics. Academic Press, 1973.">McFadden, 1973</a>, <a class="reference internal" href="../References.html#id3" title="Daniel McFadden. Econometric models for probabilistic choice among products. The Journal of Business, 53(3):S13–S29, 1980. URL: http://www.jstor.org/stable/2352205 (visited on 2023-08-22).">McFadden, 1980</a>]</span>, McFadden was later awarded the <a class="reference external" href="https://www.nobelprize.org/prizes/economic-sciences/2000/mcfadden/facts/">Nobel Price in Economics</a> for his work on discrete choice models.</p>
<p>Discrete choice models assume that people make decisions based on factors that are known to the decision maker, but perhaps unknown to an observer. Thus, there are observable features of the decision, and there are unobservable features that influence the decision that are not modeled. For example, suppose a person chooses one car over another based on its price, fuel efficiency, safety rating, and brand. However, the decision maker also consideres style or color as important, but these features are unobserved. Utility function of this type of decision take the form:</p>
<div class="math notranslate nohighlight" id="equation-eqn-utility-function-dce">
<span class="eqno">(9)<a class="headerlink" href="#equation-eqn-utility-function-dce" title="Permalink to this equation">#</a></span>\[U_{ij} = V_{ij} + \epsilon_{ij}\]</div>
<p>where <span class="math notranslate nohighlight">\(U_{ij}\)</span> is the utility of alternative <span class="math notranslate nohighlight">\(j\)</span> for individual <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(V_{ij}\)</span> is the deterministic component of the utility, i.e., the utility associated with the observable features, and <span class="math notranslate nohighlight">\(\epsilon_{ij}\)</span> is the random component of the utility.</p>
<div class="admonition-random-utility-functions-rus admonition">
<p class="admonition-title">Random utility functions (RUs)</p>
<p>Discrete choice utility functions incorporate randomness into the utility calculation to account for unmodeled factors that affect decision-making. This randomness arises not from the world but from our inability to capture all influencing factors.</p>
</div>
<section id="logit-choice-models">
<h3>Logit choice models<a class="headerlink" href="#logit-choice-models" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">logit</span></code> model assumes that the error terms <span class="math notranslate nohighlight">\(\epsilon_{nj}\)</span> are independently, identically distributed (i.i.d) extreme values following a <a class="reference external" href="https://en.wikipedia.org/wiki/Gumbel_distribution">Gumbel distribution</a>. Given this assumption, and some algebraic manipulation, the probability that individual <span class="math notranslate nohighlight">\(i\)</span> chooses alternative <span class="math notranslate nohighlight">\(j\)</span> from a collection of <span class="math notranslate nohighlight">\(J\)</span> choices in a <code class="docutils literal notranslate"><span class="pre">logit</span></code> model can be shown to be:</p>
<div class="math notranslate nohighlight" id="equation-eqn-logit-probability">
<span class="eqno">(10)<a class="headerlink" href="#equation-eqn-logit-probability" title="Permalink to this equation">#</a></span>\[P_{ij} = \frac{\displaystyle \exp\left(\frac{V_{ij}}{\lambda}\right)}{\displaystyle\sum_{k\in{J}}\exp\left(\frac{V_{ik}}{\lambda}\right)}\]</div>
<p>where <span class="math notranslate nohighlight">\(P_{ij}\)</span> is the probability that individual <span class="math notranslate nohighlight">\(i\)</span> chooses alternative <span class="math notranslate nohighlight">\(j\)</span>, <span class="math notranslate nohighlight">\(V_{ij}\)</span> is the deterministic component of the utility, i.e., the utility associated with the observable features, <span class="math notranslate nohighlight">\(J\)</span> is the set of all alternatives and <span class="math notranslate nohighlight">\(\lambda\)</span> is a scale parameter. The scale parameter <span class="math notranslate nohighlight">\(\lambda\)</span> is a positive constant that controls the degree of randomness in the model. The larger the value of <span class="math notranslate nohighlight">\(\lambda\)</span>, the more random the model becomes.</p>
</section>
</section>
</section>
<hr class="docutils" />
<section class="tex2jax_ignore mathjax_ignore" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h1>
<p>In this lecture, we’ll developed tools to compute rational choices and explored some mathematical and philosophical properties of utility functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#content-references-rational-choice-theory"><span class="std std-ref">Rational choice theory</span></a> is a framework that seeks to explain human behavior by assuming that individuals make rational choices based on their preferences and goals. This theory suggests that people are motivated by self-interest and will choose actions that maximize their benefits, i.e., their utility while minimizing their costs.</p></li>
<li><p><a class="reference internal" href="#content-references-marginal-utility"><span class="std std-ref">Marginal utility</span></a> describes the added satisfaction or benefit that a consumer gains from consuming one more unit of a good or service. This theory operates on the premise that as a consumer increases the number of units consumed, the satisfaction or benefit from each extra unit decreases. The concept of Marginal Utility is crucial in shaping consumer behavior, prices, and market equilibrium.</p></li>
<li><p><a class="reference internal" href="#content-references-discrete-choice-experiments"><span class="std std-ref">Discrete choice theory</span></a> is a framework for modeling choices made by individuals from a set of discrete alternatives. It is used to model the behavior of agents who have to choose among a finite set of alternatives. The theory is used in many fields, including economics, marketing, transportation planning, and environmental science.</p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./unit-1-simpledecisions"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="simpledecisions-landing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Making simple decisions</p>
      </div>
    </a>
    <a class="right-next"
       href="indifference-curves.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Marginal Utility, Indifference and Trades</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Utility Functions and Choices</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rational-choice-theory">Rational choice theory</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#utility-functions">Utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-utility-functions">Linear utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#logarithmic-utility-functions">Logarithmic utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cobb-douglas-utility-functions">Cobb-Douglas utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Implementation</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#leontief-utility-functions">Leontief utility functions</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Implementation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#marginal-utility">Marginal utility</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-is-marginal-utility-important">Why is marginal utility important?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-marginal-utility">Computing marginal utility</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#symbolic-marginal-utility">Symbolic marginal utility</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numerical-marginal-utility">Numerical marginal utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discrete-choice-models">Discrete Choice Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logit-choice-models">Logit choice models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Varner
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>